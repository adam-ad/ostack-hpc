We created helper function. Call these function in order to generate images for compute node.

% begin_ohpc_run
% ohpc_validation_newline
%% ohpc_validation_comment #   XFILEX chpc_prepare_image
% ohpc_validation_comment Build HPC user image
% ohpc_validation_comment 
%% Next line will only appear in documentation
print banner to start image building
\begin{lstlisting}[language=bash,keywords={},upquote=true]
[ctrlr](*\#*) echo "########################################################################"
[ctrlr](*\#*) echo "########################### Starting SMS Image   ###########################"
[ctrlr](*\#*) echo "########################################################################"
\end{lstlisting}
%% Next line will only appear in documentation
First prepare image for sms node by calling function prepare\_image\_sms
[ctrlr](*\#*) prepare\_sms\_image
%% Next line will only appear in documentation
print banner to indicate end of image creation
\begin{lstlisting}[language=bash,keywords={},upquote=true]
[ctrlr](*\#*) echo $chpc_image_sms
[ctrlr](*\#*) echo "########################################################################"
[ctrlr](*\#*) echo "########################### sms image is done ##########################"
[ctrlr](*\#*) echo "########################################################################"
\end{lstlisting}
%% Next line will only appear in documentation
prepare image for compute node by calling function prepare\_user\_image
[ctrlr](*\#*) prepare\_user\_image
%% Next line will only appear in documentation
print banner to indicate end of user creation
\begin{lstlisting}[language=bash,keywords={},upquote=true]
[ctrlr](*\#*) echo $chpc_image_user
[ctrlr](*\#*) echo "########################################################################"
[ctrlr](*\#*) echo "########################## user image is done ##########################"
[ctrlr](*\#*) echo "########################################################################"
\end{lstlisting}

%% Next line will only appear in documentation
prepare deploye images for ironic provisioning 
[ctrlr](*\#*) prepare\_deploy\_image
%% Next line will only appear in documentation
print banner to indicate end of user creation
\begin{lstlisting}[language=bash,keywords={},upquote=true]
[ctrlr](*\#*) echo $chpc_image_deploy_kernel
[ctrlr](*\#*) echo $chpc_image_deploy_ramdisk
[ctrlr](*\#*) echo "########################################################################"
[ctrlr](*\#*) echo "######################### deploy image is done #########################"
[ctrlr](*\#*) echo "########################################################################"
\end{lstlisting}
% end_ohpc_run


